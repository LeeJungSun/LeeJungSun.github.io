<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, shrink-to-fit=no">
<title>뭐라고 넣징 : Javascript</title>
<link href="https://fonts.googleapis.com/css?family=Nanum+Gothic&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../css/blog-sass.css">
</head>
<body>
<div id="wrap" class="waga_article">
    <h1 class="main__title">뭐라고 넣징</h1>
    <p class="main__text">부가내용 뭐라고 넣징</p>

    <section class="section_wrap">
        <h2 class="sub__title">trigger</h2>
        <p class="sub__text"><span class="code">trigger()</span>는 지정된 이벤트나 선택한 요소에 바인딩된 이벤트를 실행시키는 jQuery 메소드입니다.</p>
        <div class="example_area">
            <code>
                $('selector').trigger(eventType [, extraParameters]);
            </code>
        </div>
        <p class="sub__text">이벤트가 바인딩된 요소에 trigger 메소드를 사용하여 이벤트를 발생시킵니다.</p>
        <div class="example_area">
            <code>
                $('#btn').on('<strong class="point">click</strong>', function () {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;console.log('click');<br>
                });<br>
                $('#btn').<strong class="point">trigger('click')</strong>;<br>
                <br>
                $('#inputTest').<strong class="point">focus</strong>(function () {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;console.log('focus');<br>
                });<br>
                $('#inputTest').<strong class="point">trigger('focus')</strong>;
            </code>
        </div>
        <div class="quote">
            <strong class="quote__title">Example</strong>
            <p class="quote__text">각각의 버튼 클릭 시 해당하는 버튼의 카운트 수가 올라가지만, 'button02' 클릭 시 'button01' 클릭 이벤트도 함께 실행되도록 trigger 메소드를 사용하여 'button01' 카운트 수도같이 올라가도록 적용</p>
            <div class="img__wrap type2">
                <div class="img__area">
                    <div class="img">
                        <img src="../img/util/example01.gif" alt="" style="width: auto">
                    </div>
                </div>
            </div>
            <div class="btn__area">
                <a href="./code/02_util_js01.html" target="_blank" class="btn_view">Example Code</a>
            </div>
        </div>
        <div class="notice">
            <strong class="notice__title">NOTICE :</strong>
            <p class="notice__text">미리 알아두면 좀 더 이해하기 쉬운 개념 목록입니다.</p>
            <ul class="notice__list">
            <li>이벤트</li>
            <li>이벤트 핸들러</li>
            <li>이벤트 리스너</li>
            </ul>
        </div>

        <article class="article__wrap">
            <h3 class="article__title">[How to use]</h3>
            <div class="box">
                <h4 class="box__title">다중 인자값</h4>
                <p class="article__text">배열 형태로 인자값을 넘겨줄 경우 인자값을 따로따로 받아 올 수 있으나,<br> 객체로 넘겨줄 경우 해당 객체의 키값으로 접근해야 정상적인 인자값을 받아 올 수 있습니다.</p>
                <ul class="list">
                <li>
                    <strong class="list__title">배열로 넘겨줄 경우</strong>
                    <div class="example_area">
                        <code>
                            $('#test').on('wishList', function () {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;console.log(arguments[0]); <span class="comment">// eventType</span><br>
                            &nbsp;&nbsp;&nbsp;&nbsp;console.log(arguments[1]); <span class="comment">// '모니터'</span><br>
                            });
                            $('#test').trigger('wishList', <strong class="point">['모니터', '의자', '데스크탑']</strong>);
                        </code>
                    </div>
                    <div class="img">
                        <img src="../img/util/example02.png" alt="">
                    </div>
                </li>
                <li>
                    <strong class="list__title">객체로 넘겨줄 경우</strong>
                    <div class="example_area">
                        <code>
                            $('#test').on('shoppingList', function () {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;console.log(arguments[0]); <span class="comment">// eventType</span><br>
                            &nbsp;&nbsp;&nbsp;&nbsp;console.log(arguments[1].item2); <span class="comment">// '의자'</span><br>
                            });<br>
                            $('#test').trigger('shoppingList', <strong class="point">{<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;item1 : '모니터',<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;item2 : '의자'<br>
                            }</strong>);
                        </code>
                    </div>
                    <div class="img">
                        <img src="../img/util/example03.png" alt="">
                    </div>
                </li>
                </ul>

                <h4 class="box__title">이벤트 문자열 체이닝</h4>
                <p class="article__text">문자열로 체이닝하여 만든 커스텀 이벤트도 trigger 적용이 가능합니다.</p>
                <div class="example_area">
                    <code>
                        $('#test').on('<strong class="point">wishList.monitor</strong>', function () {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;console.log('모니터');<br>
                        });<br>
                        $('#test').on('<strong class="point">wishList.chair</strong>', function () {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;console.log('의자');<br>
                        });<br>
                        $('#test').trigger('<strong class="point">wishList.monitor</strong>');<br>
                        $('#test').trigger('<strong class="point">wishList.chair</strong>');
                    </code>
                </div>
            </div>
        </article>
    </section>

    <section class="section_wrap">
        <h2 class="sub__title">즉시 실행 함수 (IIFE)</h2>
        <p class="sub__text">일반적으로 함수는 함수를 정의하고 변수에 함수를 저장하고 실행하는 과정을 거치지만, <span class="code">즉시 실행 함수(IIFE, Immediately Invoked Function Expression)</span>는 함수를 정의하고 저장하는 과정이 없이 바로 호출이 가능합니다.</p>
        <div class="example_area">
            <code>
                <strong class="point">(function () {</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;console.log('function');<br>
                <strong class="point">})();</strong><br>
                <br>
                <strong class="point">(function () {</strong><br>
                &nbsp;&nbsp;&nbsp;&nbsp;console.log('function');<br>
                <strong class="point">}());</strong>
            </code>
        </div>

        <div class="notice">
            <strong class="notice__title">NOTICE :</strong>
            <p class="notice__text">미리 알아두면 좀 더 이해하기 쉬운 개념 목록입니다.</p>
            <ul class="notice__list">
            <li>함수 표현식, 함수 선언식</li>
            <li>변수 유효 범위 (Scope)</li>
            <li>클로저 (Closure)</li>
            </ul>
        </div>

        <article class="article__wrap">
            <h3 class="article__title">[How to use]</h3>
            <div class="box">
                <h4 class="box__title">변수에 즉시 실행 함수 저장</h4>
                <p class="article__text">내용 내용</p>
                <div class="example_area">
                    <code>
                        (<strong class="point">banana = function</strong> () {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;console.log(x*x);<br>
                        })(3);<br>
                        banana(4);<br>
                        <span class="comment">// 9</span><br>
                        <span class="comment">// 16</span>
                    </code>
                </div>

                <h4 class="box__title">즉시 실행 함수 리턴 값 저장</h4>
                <p class="article__text">내용 내용</p>
                <div class="example_area">
                    <code>
                        <strong class="point">var apple =</strong> (function () {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;return x + x;<br>
                        })(2);<br>
                        console.log(apple);<br>
                        <span class="comment">// 4</span>
                    </code>
                </div>
            </div>
        </article>

        <article class="article__wrap">
            <h3 class="article__title">[타이틀타이틀]</h3>
            <div class="box">
                <h4 class="box__title">초기화 코드</h4>
                <p class="article__text"><strong>즉시 실행 함수는 함수가 선언되자마자 실행되기 때문에 같은 함수를 다시 호출할 수 없습니다.</strong><br> 이러한 즉시 실행 함수의 특성을 활용하여 한 번만 실행하는 초기화 코드 부분에 많이 사용됩니다. (변수를 전역으로 선언하는 것을 피하기 위해)</p>

                <h4 class="box__title">전역 변수 충돌 방지</h4>
                <p class="article__text">기본적으로 자바스크립트는 변수를 선언할 경우 전역 유효 범위를 가지지만, <strong>함수 내부에서 정의된 변수들은 함수 내부에서만 유효합니다.</strong><br> 함수 외부 코드에서 내부 함수 변수에 접근이 불가능하도록 함으로써 변수의 충돌을 방지할 수 있습니다. 때문에 주로 jQuery 또는 기타 프레임워크 소스에서 많이 사용됩니다.<br> 그러나 <strong>함수 내의 변수라도 var 문을 사용하여 변수를 정의하지 않을 경우 전역 유효 범위를 갖게 되므로 주의</strong>해야 합니다.</p>
                <div class="example_area">
                    <code>
                        <strong class="point">
                            var apple = 'red';<br>
                            orange = 'orange';<br>
                        </strong>
                        (function () { <br>
                        <strong class="point">
                            &nbsp;&nbsp;&nbsp;&nbsp;var apple = 'green',<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;banana = 'yellow';<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;orange = 'white';<br>
                        </strong>
                        &nbsp;&nbsp;&nbsp;&nbsp;console.log(apple); <span class="comment">// 'green' : scope가 다름</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;console.log(banana); <span class="comment">// 'yellow'</span><br>
                        })();<br>
                        console.log(apple); <span class="comment">// 'red' : scope가 다름</span><br>
                        console.log(orange); <span class="comment">// 'white' : 전역 유효 범위를 가지게 되어 오버라이팅 됨</span><br>
                        console.log(banana); <span class="comment">// not defined : 즉시 실행 함수 내부에서만 유효</span>
                    </code>
                </div>

                <blockquote class="quote type2">
                    <p class="quote__text">jQuery와 Prototype 라이브러리는 동일한 $라는 글로벌 변수를 사용하는데, 이 두 가지 라이브러리를 같이 사용한다면 $ 변수에 대한 충돌이 생기게 됩니다.<br> 하지만 즉시 실행 함수 안에서는 $는 전역 변수가 아닌 jQuery object의 지역 변수가 되어 Prototype 라이브러리의 $ 변수와 충돌 없이 사용이 가능합니다.</p>
                    <div class="example_area">
                        <code>
                            (function ($) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// 함수 scope 내에서 $는 jQuery object</span><br>
                            })(jQuery);
                        </code> 
                    </div>
                </blockquote>
                
            </div>
        </article>

        <article class="article__wrap">
            <h3 class="article__title">[타이틀타이틀]</h3>
            <div class="box">
                <h4 class="box__title">Issue</h4>
                <p class="article__text">for문 내에서 클로저가 생성될 경우 </p>
                <div class="example_area">
                    <code>
                        for (var i = 0, max = btn.length; i &lt; max; i++) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;btn[i].onclick = function () {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(i);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        }
                    </code>
                </div>
                <div class="img">
                    <img src="../img/util/example04.gif" alt="" style="width: auto">
                </div>

                <h4 class="box__title">Trouble Shooting</h4>
                <ul class="list">
                <li>
                    <strong class="list__title">즉시 실행 함수 사용</strong>
                    <p class="list__text"><strong>즉시 실행 함수로 익명 클로저를 추가로 생성</strong>하여 해결해주는 방법으로 변수 i를 즉시 실행 함수에 index라는 자유 변수 형태로 넣어주면, 클로저에 의해 각기 다른 환경 속에 변수가 포함되게 됩니다.</p>
                    <div class="example_area">
                        <code>
                            for (var i = 0, max = btn.length; i &lt; max; i++) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;<strong class="point">(function (index) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;btn[index].onclick = function () {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(index);</strong> <span class="comment">// 정상적으로 버튼 클릭시 0,1,2,3,4 출력</span><br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong class="point">}<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;})(i);</strong><br>
                            }
                        </code>
                    </div>
                    <div class="img">
                        <img src="../img/util/example05.gif" alt="" style="width: auto">
                    </div>
                    <div class="btn__area">
                        <a href="./code/02_util_js02.html" target="_blank" class="btn_view">Example Code</a>
                    </div>
                </li>
                <li>
                    <strong class="list__title">let 사용</strong>
                    <p class="list__text">scope 개념으로 접근하여 <strong>function-scope 개념인 var를 block-scope인 let으로 변경</strong>하여 적용하는 방법입니다. let은 코드 블록에서만 유효한 지역 변수이면서 자유 변수로서 for문의 생명주기가 종료되어도 변수 i를 참조하는 함수가 존재하는 한 계속 유지됩니다.</p>
                    <div class="example_area">
                        <code>
                            for (let i = 0, max = btn.length; i &lt; max; i++) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;btn[i].onclick = function () {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(i);<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                            }
                        </code>
                    </div>
                    <div class="img">
                        <img src="../img/util/example06.gif" alt="" style="width: auto">
                    </div>
                    <div class="btn__area">
                        <a href="./code/02_util_js03.html" target="_blank" class="btn_view">Example Code</a>
                    </div>
                </li>
                </ul>
            </div>
        </article>

    </section>   

    <section class="section_wrap">
        <h2 class="sub__title">마치며</h2>
        <p class="sub__text">쏼라쏼라</p>
    </section>
</div>
</body>
</html>